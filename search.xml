<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>python list格式的str, 转换成list类型</title>
      <link href="2021/04/16/python-list%E6%A0%BC%E5%BC%8F%E7%9A%84str-%E8%BD%AC%E6%8D%A2%E6%88%90list%E7%B1%BB%E5%9E%8B/"/>
      <url>2021/04/16/python-list%E6%A0%BC%E5%BC%8F%E7%9A%84str-%E8%BD%AC%E6%8D%A2%E6%88%90list%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="今天遇到一个list格式的str，我想重新转回list类型"><a href="#今天遇到一个list格式的str，我想重新转回list类型" class="headerlink" title="今天遇到一个list格式的str，我想重新转回list类型"></a>今天遇到一个list格式的str，我想重新转回list类型</h2><blockquote><p>待转换目标：</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">172</span><span class="token punctuation">]</span><span class="token punctuation">:</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'"TemplateId":(.*?),'</span><span class="token punctuation">,</span>rsp<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>Out<span class="token punctuation">[</span><span class="token number">172</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'["&#123;652B0562-7D75-46D2-A6A6-C63CF833AE3A&#125;"]'</span>In <span class="token punctuation">[</span><span class="token number">173</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">type</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'"TemplateId":(.*?),'</span><span class="token punctuation">,</span>rsp<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>Out<span class="token punctuation">[</span><span class="token number">173</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="首先想到的是-list-方法-结果"><a href="#首先想到的是-list-方法-结果" class="headerlink" title="首先想到的是 list() 方法, 结果"></a>首先想到的是 list() 方法, 结果</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">174</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'"TemplateId":(.*?),'</span><span class="token punctuation">,</span>rsp<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>Out<span class="token punctuation">[</span><span class="token number">174</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'['</span><span class="token punctuation">,</span> <span class="token string">'"'</span><span class="token punctuation">,</span> <span class="token string">'&#123;'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>很明显, 这不是我想要的结果</p></blockquote><h3 id="最后借助-json-loads-成功转换"><a href="#最后借助-json-loads-成功转换" class="headerlink" title="最后借助 json.loads 成功转换"></a>最后借助 json.loads 成功转换</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">In <span class="token punctuation">[</span><span class="token number">175</span><span class="token punctuation">]</span><span class="token punctuation">:</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">'"TemplateId":(.*?),'</span><span class="token punctuation">,</span>rsp<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>Out<span class="token punctuation">[</span><span class="token number">175</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'&#123;652B0562-7D75-46D2-A6A6-C63CF833AE3A&#125;'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 字符串处理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scrapy 重定向解决</title>
      <link href="2021/04/15/scrapy-%E9%87%8D%E5%AE%9A%E5%90%91%E8%A7%A3%E5%86%B3/"/>
      <url>2021/04/15/scrapy-%E9%87%8D%E5%AE%9A%E5%90%91%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<h2 id="只需要在每次构造请求前-在meta中添加如下信息即可-settings中如果有默认user-agent，又非本次请求的网站头也建议注释掉"><a href="#只需要在每次构造请求前-在meta中添加如下信息即可-settings中如果有默认user-agent，又非本次请求的网站头也建议注释掉" class="headerlink" title="只需要在每次构造请求前, 在meta中添加如下信息即可,settings中如果有默认user-agent，又非本次请求的网站头也建议注释掉"></a>只需要在每次构造请求前, 在meta中添加如下信息即可,settings中如果有默认user-agent，又非本次请求的网站头也建议注释掉</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>    url<span class="token punctuation">,</span>     callback<span class="token operator">=</span>self<span class="token punctuation">.</span>parse<span class="token punctuation">,</span>     dont_filter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token comment"># Scrapy是默认过滤掉重复的请求URL, 关闭它</span>    meta<span class="token operator">=</span><span class="token punctuation">&#123;</span>         <span class="token string">'dont_redirect'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token comment"># 关闭重定向</span>        <span class="token string">'handle_httpstatus_list'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">301</span><span class="token punctuation">,</span><span class="token number">302</span><span class="token punctuation">]</span> <span class="token comment"># 接受的响应 code</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 爬虫 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scrapy,重定向 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用hexo搭建博客，并配置主题</title>
      <link href="2021/04/12/%E7%94%A8hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%B9%B6%E9%85%8D%E7%BD%AE%E4%B8%BB%E9%A2%98/"/>
      <url>2021/04/12/%E7%94%A8hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%EF%BC%8C%E5%B9%B6%E9%85%8D%E7%BD%AE%E4%B8%BB%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><blockquote><p>安装以下内容所需环境：npm，git</p></blockquote><ol><li><p>hexo</p></li><li><p>hexo-theme-argon</p></li><li><p><a href="https://hexo.bootcss.com/docs/index.html">安装hexo文档</a></p><blockquote><p>hexo 安装后进入你安装的目录/themes下，下载主题</p></blockquote></li><li><p>下载主题，<a href="https://github.com/solstice23/hexo-theme-argon">主题地址</a></p> <pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># 在 你的目录&#x2F;themes 下进行clone    1. git clone https:&#x2F;&#x2F;github.com&#x2F;solstice23&#x2F;hexo-theme-argon.git    2. 将下载的主题更名为：argon<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>配置主题相关修改</p> <pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># 在 Hexo 你的目录&#x2F;_config.yml 中将 theme 项改为 argon# 将 Hexo 你的目录&#x2F;themes&#x2F;argon&#x2F;_config.yml 复制到 ，你的目录&#x2F;source&#x2F;_data（没有则自建） 文件夹中，并重命名为 argon.yml# 在 你的目录&#x2F;themes 下操作    1. npm install hexo-generator-search --save# 在 Hexo 你的目录&#x2F;_config.yml 下操作    注意缩进    1. search:          path: search.xml          field: post          content: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>启动即可预览</p> <pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># 在 你的目录&#x2F; 下操作hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> 个人 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo,themes </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
